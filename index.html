<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>师小助AI</title>
    <!-- 引入外部资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366F1',      // 主色调：靛蓝色
                        secondary: '#10B981',    // 辅助色：绿色
                        accent: '#F59E0B',       // 强调色：琥珀色
                        dark: '#0F172A',         // 深色背景
                        light: '#EEF2FF',        // 浅色文本
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .glass {
                background: rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
            .text-glow {
                text-shadow: 0 0 10px rgba(99, 102, 241, 0.7), 
                             0 0 20px rgba(99, 102, 241, 0.5);
            }
            .star {
                position: absolute;
                background-color: white;
                border-radius: 50%;
                animation: twinkle 2s infinite alternate;
            }
            .shooting-star {
                position: absolute;
                background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);
                transform-origin: right center;
                animation: shoot 3s infinite;
            }
            .planet {
                position: absolute;
                border-radius: 50%;
                animation: rotate 30s linear infinite;
                box-shadow: 0 0 60px currentColor;
            }
            .astronaut {
                position: absolute;
                animation: float 6s ease-in-out infinite, 
                           rotate 15s linear infinite;
            }
            .nebula {
                position: absolute;
                border-radius: 50%;
                filter: blur(80px);
                opacity: 0.2;
                animation: pulse 20s infinite alternate;
            }
        }
        
        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1.2); }
        }
        
        @keyframes shoot {
            0% { 
                width: 0px; 
                height: 2px;
                left: 110%;
                top: 10%;
                opacity: 0;
            }
            10% { 
                opacity: 1;
            }
            40% { 
                width: 150px; 
                height: 2px;
                left: calc(110% - 150px);
                opacity: 1;
            }
            50% {
                opacity: 0;
            }
            100% { 
                width: 0px; 
                height: 2px;
                left: -50px;
                opacity: 0;
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.2; }
            100% { transform: scale(1.3); opacity: 0.3; }
        }
    </style>
</head>

<body class="bg-dark min-h-screen transition-all duration-700 ease-in-out overflow-x-hidden" id="app-body">
    <!-- 炫酷太空背景和动态元素 -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0" id="space-background">
        <!-- 星云背景 -->
        <div class="nebula w-[600px] h-[600px] bg-primary top-[-200px] right-[10%]"></div>
        <div class="nebula w-[500px] h-[500px] bg-secondary bottom-[-100px] left-[5%]"></div>
        <div class="nebula w-[400px] h-[400px] bg-accent top-[30%] left-[30%]"></div>
        
        <!-- 星星和流星将通过JS动态生成 -->
    </div>
    
    <!-- 行星元素 -->
    <div class="planet w-80 h-80 text-primary/30 top-[5%] right-[5%]" style="animation-duration: 40s;"></div>
    <div class="planet w-40 h-40 text-accent/40 bottom-[10%] left-[8%]" style="animation-duration: 60s;"></div>
    <div class="planet w-56 h-56 text-secondary/30 top-[40%] left-[15%]" style="animation-duration: 50s;"></div>
    
    <!-- 宇航员元素 -->
    <div class="astronaut w-40 h-60 bottom-[15%] right-[10%] z-0">
        <img src="https://picsum.photos/seed/astronaut/240/360" alt="招手的宇航员" class="w-full h-full object-contain">
    </div>

    <div class="container mx-auto px-4 py-6 max-w-6xl relative z-10">
        <!-- 顶部导航栏 -->
        <header class="bg-primary/90 rounded-t-2xl shadow-lg shadow-primary/30 p-4 flex items-center justify-between transition-all duration-500 hover:shadow-primary/40">
            <div class="flex items-center space-x-3">
                <div class="relative">
                    <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center shadow-lg shadow-primary/30">
                        <i class="fa fa-rocket text-primary text-xl"></i>
                    </div>
                    <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-accent rounded-full border-2 border-primary animate-pulse"></div>
                </div>
                <h1 class="text-white text-xl md:text-2xl font-bold text-glow">师小助AI</h1>
            </div>
            
            <div class="flex items-center space-x-4">
                <div class="hidden md:flex items-center space-x-1 text-white/80">
                    <span id="knowledge-progress-text" class="text-sm">探索进度</span>
                    <div class="w-24 h-2 bg-white/30 rounded-full overflow-hidden">
                        <div id="knowledge-progress-bar" class="h-full bg-accent rounded-full w-1/3 transition-all duration-1000"></div>
                    </div>
                </div>
                
                <div class="relative">
                    <button id="theme-toggle" class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 shadow-md hover:shadow-lg">
                        <i class="fa fa-sun-o"></i>
                    </button>
                </div>
                
                <div class="relative">
                    <div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 shadow-md hover:shadow-lg">
                        <i class="fa fa-user-astronaut"></i>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- 仅保留嵌入的聊天iframe -->
        <main class="glass rounded-b-2xl shadow-xl shadow-primary/20 overflow-hidden transition-all duration-500 min-h-[700px]">
            <div class="w-full h-full">
                <iframe
                    src="https://udify.app/chatbot/yCzS1mNrrS6LMdtc"
                    class="w-full h-full min-h-[700px]"
                    frameborder="0"
                    allow="microphone"
                    title="师小助AI聊天界面">
                </iframe>
            </div>
        </main>
        
        <!-- 底部信息 -->
        <footer class="mt-6 text-center text-white/50 text-sm">
            <p>师小助AI &copy; 2025 | 致力于提高教学效率</p>

        </footer>
    </div>
    
    <!-- 通知提示组件 -->
    <div id="notification" class="fixed top-4 right-4 bg-primary text-white px-6 py-3 rounded-lg shadow-lg transform translate-x-full transition-transform duration-500 flex items-center space-x-3 z-50 shadow-primary/40">
        <i class="fa fa-comet"></i>
        <span id="notification-text">致力于提高教学效率</span>
    </div>

    <script>
        // 生成随机星星背景和流星
        function createStars() {
            const space = document.getElementById('space-background');
            const starCount = 300;
            
            // 创建星星
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // 随机位置
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                // 随机大小
                const size = Math.random() * 2.5 + 0.5;
                
                // 随机闪烁动画延迟和持续时间
                const delay = Math.random() * 5;
                const duration = Math.random() * 3 + 1;
                
                // 随机亮度
                const opacity = Math.random() * 0.8 + 0.2;
                
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.animationDelay = `${delay}s`;
                star.style.animationDuration = `${duration}s`;
                star.style.opacity = opacity;
                
                // 星星颜色变化
                const colorRand = Math.random();
                if (colorRand > 0.85) {
                    star.style.backgroundColor = 'rgba(16, 185, 129, 0.9)'; // 绿色星星
                } else if (colorRand > 0.8) {
                    star.style.backgroundColor = 'rgba(245, 158, 11, 0.9)'; // 黄色星星
                } else if (colorRand > 0.75) {
                    star.style.backgroundColor = 'rgba(236, 72, 153, 0.9)'; // 粉色星星
                }
                
                space.appendChild(star);
            }
            
            // 创建流星
            createShootingStars(3);
        }
        
        // 创建流星
        function createShootingStars(count) {
            const space = document.getElementById('space-background');
            
            for (let i = 0; i < count; i++) {
                const star = document.createElement('div');
                star.classList.add('shooting-star');
                
                // 随机位置和时间
                const top = Math.random() * 40 + 10; // 10% - 50%
                const delay = Math.random() * 5 + i * 3; // 错开出现时间
                
                star.style.top = `${top}%`;
                star.style.animationDelay = `${delay}s`;
                
                space.appendChild(star);
            }
        }
        
        // 页面加载时创建星星
        window.addEventListener('load', createStars);
        
        // DOM元素获取
        const themeToggle = document.getElementById('theme-toggle');
        const appBody = document.getElementById('app-body');
        const progressBar = document.getElementById('knowledge-progress-bar');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');
        const planets = document.querySelectorAll('.planet');
        const nebulas = document.querySelectorAll('.nebula');
        
        // 主题切换功能 - 深空/星光模式
        let isLightMode = false;
        
        themeToggle.addEventListener('click', () => {
            isLightMode = !isLightMode;
            
            // 切换背景
            if (isLightMode) {
                appBody.classList.remove('bg-dark');
                appBody.classList.add('bg-gradient-to-br', 'from-blue-900/90', 'to-indigo-950/90');
                
                // 调整元素亮度
                planets.forEach(planet => {
                    planet.style.opacity = '0.9';
                });
                nebulas.forEach(nebula => {
                    nebula.style.opacity = '0.3';
                });
                themeToggle.innerHTML = '<i class="fa fa-moon-o"></i>';
            } else {
                appBody.classList.remove('bg-gradient-to-br', 'from-blue-900/90', 'to-indigo-950/90');
                appBody.classList.add('bg-dark');
                
                // 降低元素亮度
                planets.forEach(planet => {
                    planet.style.opacity = '0.7';
                });
                nebulas.forEach(nebula => {
                    nebula.style.opacity = '0.2';
                });
                themeToggle.innerHTML = '<i class="fa fa-sun-o"></i>';
            }
        });
        
        // 通知功能
        function showNotification(message) {
            notificationText.textContent = message;
            notification.style.transform = 'translateX(0)';
            
            setTimeout(() => {
                notification.style.transform = 'translateX(calc(100% + 20px))';
            }, 5000);
        }
        
        // 模拟初始通知
        setTimeout(() => {
            showNotification('师小助AI，为你服务');

        }, 2000);
    </script>
</body>
</html>
